#!/usr/bin/env perl
use strict;
use warnings;
use 5.010;
use Data::Dumper;
use FindBin '$Bin';
use lib "$Bin/../lib";
use API::CLI::MetaCPAN;
my $spec = do { local $/; <DATA> };

my $cli = API::CLI::MetaCPAN->new({
    api_spec_file => "$Bin/../etc/metacpancl.yaml",
    config_file => "$Bin/../etc/metacpancl-config.yaml",
#    dir => "$ENV{HOME}/.metacpancl",
    appspec => \*DATA,
    spec => $spec,
});

$cli->run;

__DATA__
---
name: metacpancl
version: 1
title: MetaCPAN API Client
options:
    -   name: yaml
        type: bool
        description: YAML output
    -   name: table
        type: bool
        description: Formatted table output
    -   name: dryrun
        type: bool
        description: Don't make API call
    -   name: debug
        type: bool
        description: Debug
commands: {}
